---
title: "test"
author: "Reid Minto"
date: "2/17/2020"
output: html_document
---

# Load libraries and Import data 

```{r, warning = F, message = F}

library(tidyverse); library(lubridate);
library(survey); library(RCurl); library(httr)


df <- mtcars

```


Suppose we're running through a routine or analysis and we want to apply some calculation or function to our dataset `df` , and what we want to do is fairly routine so we have wrapped it up into a custom function that we apply to our unicef routines systematically....

__Any__ analyst at Unicef that uses R and would find some utility in wrapping up their frequent calculations / tasks etc. into a helper function could make use of sourcing the functions from our github page, e.g. for simplicity suppose I just want to see how many NAs / nulls are in every column for a dataset with 300 columns for example. 



```{r}

source_https <- function(u, unlink.tmp.certs = FALSE) {
  # load package
  require(RCurl)

  # read script lines from website using a security certificate
  if(!file.exists("cacert.pem")) download.file(url="http://curl.haxx.se/ca/cacert.pem", destfile = "cacert.pem")
  script <- getURL(u, followlocation = TRUE, cainfo = "cacert.pem")
  if(unlink.tmp.certs) unlink("cacert.pem")

  # parase lines and evealuate in the global environement
  eval(parse(text = script), envir= .GlobalEnv)
}



source_https("https://github.com/RMinto/UNICEF-MICS/raw/master/R/fake_helper_fun_example.R")
source_https("https://github.com/RMinto/UNICEF-MICS/raw/master/R/fake_helper_fun_example.R", unlink.tmp.certs = TRUE)

```

```{r}

devtools::source_url("https://github.com/RMinto/UNICEF-MICS/raw/master/R/fake_helper_fun_example.R?raw=TRUE")

```

